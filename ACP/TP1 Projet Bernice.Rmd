---
title: "Travaux Pratiques"
output:
  html_document: default
  pdf_document: default
  Author: Bernice AGOSSOUVO
  Date: "25/09/2020"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Exercise 1 : Vecteur dans R
## Question 1
```{r,echo = FALSE}
x<-c(3,1,7) 
y<-rep(1,3)
```

### 1.a)
```{r}
x # renvoie le vecteur precedemment crée
```

### 1.b)
```{r}
x[2] # la valeur à la deuxième position
```
### 1.c)
```{r}
length(x)# la taille du vecteur x
```
### 1.d)
```{r}
sum(x)# la somme des valeurs de x 
```
### 1.e)
```{r}
x+y # la somme des vecteurs x et y
```
### 1.f)
```{r}
x*y # la multiplication du vecteur x par le vecteur y
```
### 1.g)
```{r}
sort(x) # trie les valeurs du vecteur par ordre croissant
```
### 1.h)
```{r}
min(x)# le min de x
```
### 1.i)
```{r}
which.min(x)# la position du min dans le vecteur
```
### 1.j)
```{r}
z<-x # affecte x à z
z
```


## Question 2
```{r} 
sort(x,decreasing = TRUE)
```
## Question 3
```{r,echo = FALSE} 
u= c(rep(2,10),rep(8,20),rep(9,5))
```
### 3.a)
```{r} 
u==8 # un booleen : true si la valeur équivaut à 8 et false sinon 
``` 
### 3.b)
```{r} 
u<=8 # un booleen : true si la valeur de u <= 8 et false sinon
```
### 3.c)
```{r} 
(which(u %in% c(2,9)))# la position des valeurs 2 et 9 de u
```
### 3.d)
```{r} 
which((u==2)|(u==9)) #la position des valeurs 2 ou 9 de u
```
### 3.e)
```{r} 
which((u==2)&(u==9))# la position des valeurs qui sont à la fois 2 et 9
```

## Question 4
```{r}
length(which(u %in% c(8,9)))
```
## Question 5
### 5.a)
```{r,echo = FALSE}
groupe = c("red","green","yellow")
```
```{r}
mode(groupe)# le type de groupe
```
### 5.b)
```{r}
mode(u)# renvoie le type de u
```
### 5.c)
```{r}
mode(u==5) # le type de u==5
```
## Question 6
### 6.a)
```{r}
ls() # liste les trucs existants dans le global environnement de R
```
### 6.b)
```{r}
rm(list=ls())# supprime le stockage de global environnement
```
### 6.c)
```{r}
ls()
```



# Exercice 2 : Manipulation de donnees avec R
## Question 1

```{r,echo = FALSE}
data("airquality")
```
**Le jeu de données mesure la qualité de l'air à new York. Il comporte des variables Ozone, Solar.r, Wind, temperature, month et le jour du mois**

## Question 2
### 2.a)
```{r}
head(airquality)# l'en-tête du jeu de données airquality
```

### 2.b)
```{r}
str(airquality)# le type de chaque variable avec un début de descriptif du contenu
```
### 2.c)
```{r}
summary(airquality)# un résumé sur le dataframe
```
### 2.d)
```{r}
colnames(airquality)#le nom des colonnes
```
### 2.e)
```{r}
dim(airquality)# la dimension: le nombre de lignes et de colonnes de airquality
```
## Question 3

**attach(dataframe) permet d'appeler les colonnes avec leur simple nom. Sinon il faut necessairement écrire dataframe$colonne**

## Question 4
### 4.a)
```{r}
sum(is.na(airquality))# le nombre total de NA existant dans le dataframe
```
### 4.b)
```{r}
dataTemp = c()
dataTemp <-na.omit(airquality)#  supprime les NA existant dans airquality et creer un dataframe dataTemp qui stocke que les valeurs existantes 
```
### 4.c)
```{r}
sum(is.na(dataTemp))# On voit bien qu'il n'y a plus de NA
```

## Question 5
### 5.a)
```{r}
attach(dataTemp)
mode(Ozone) # Ozone est de type numeric
```
### 5.b)
```{r}
mean(Ozone)
median(Ozone)
var(Ozone)
sd(Ozone) 
```
### 5.c) 
**La valeur moyenne prise par Ozone est de 42, la moitié des observations ont pour valeur inférieure à 31; et les observations sont un peu dispersées**

### 5.d)
```{r}
quantile(Ozone)
```
**Le jeu de données comporte des variables Ozone,Solar.r,Wind,temperature,month et le jour du mois**
### 5.e)
```{r}
IQR(Ozone) #la taille de l'intervalle interquartile est 44
```

### 5.f) indice de l'observation ayant la plus grande valeur
```{r}
which.max(Ozone)# indice de l'observation ayant la plus grande valeur d'ozone
```

## Question 6
```{r}
boxplot(Ozone)$out
```


## Question 7
```{r}
library(ggplot2)
require(ggplot2)
fig <- ggplot(data.frame(Ozone)) + aes(x="Ozone",y = Ozone)+
  geom_boxplot(color = "blue", fill = "red")+
  labs(title="boxplot pour la variable Ozone", x ="", y= "valeurs")
fig
```

## Question 8
### 8.a)
```{r}
mode(Month)
``` 
**Month est de type numéric**

### 8.b)
```{r}
table(Month)
prop.table(table(Month))
``` 
Au mois de juin le pourcentage est de 8.10, celui de juillet est 23.42

### 8.c)
```{r}
barplot(table(Month))
pie(table(Month))
figure <- ggplot(data.frame(Month)) + aes(x = Month, y = Month) +
  geom_bar(stat="identity", fill=Month)
figure
```

### 8.d)
```{r}
vecteur <- as.factor(Month)
d <- factor(vecteur, levels = 5:9, labels = c("mai","juin","juilet","aôut","septembre"))
```

## Question 9
### 9.a)
```{r}
tapply(Ozone,Month,mean)
tapply(Ozone,Month,sd)
```
### 9.b)
```{r}
Month == 7 & Ozone >50
prop.table(table(Month== 7 & Ozone >50))
``` 
**Le pourcentage d'observations dont la valeur dépasse Ozone 50 est de 13.51 en Juillet**

```{r}
Month == 9 & Ozone >50
prop.table(table(Month== 9 & Ozone >50))
```
**Le pourcentage dobservations dont la valeur dépasse Ozone 50 est de 3.6 en Septembre**

### 9.c)
```{r}
df <-data.frame(Ozone = Ozone, Month = as.factor(Month))
fig <- ggplot(df) + aes(x=Month, y= "Ozone",fill = Month) + geom_boxplot() + 
  labs(x ="Month", y = "Ozone",fill= "Mois")
fig
```

### 9.d)
```{r}
tapply(X =df$Ozone,INDEX = df$Month,function(x)length(boxplot(x)$out))
```
**la fonction renvoie les boxplots de ozone pour chaque mois**


## Question 10
### 10.a)
```{r}
OzoneCent <- Ozone-mean(Ozone)
OzoneRed <- Ozone <- Ozone/ sd(Ozone)
mean(OzoneCent)
var(OzoneRed)
```
```{r,results="hide"}
scale(Ozone)# pour centrer réduire simultanément on utilise scale
```
### 10.b)
```{r}
tab <- data.frame(Ozone=Ozone,Solar.R = Solar.R)
boxplot(tab)
tabCR = data.frame(apply(tab,MARGIN = 2, scale))
```
**boxplot de tab renvoie le boxplot de ozone et solar.r avec des valeurs non centrées reduites** 

### 10.c)
```{r}
boxplot(tabCR)
```

### 10.d)
```{r}
library(reshape)
df <- melt(data.frame(Ozone= tabCR$Ozone,Solar.R = tabCR$Solar.R))
fig <-ggplot(df) + geom_boxplot(aes(x=variable, y=value))
fig
```

## Question 11
```{r}
write.csv(dataTemp,file ="airquality.csv,quote = FALSE")
```



# Exercice3 : Ecriture de fonctions avec R
```{r}
carre <- function(x){
  out <-x*x
  return(out)}
carre(5)
```

## Question 1
```{r}
centreReduit <- function(x){
  out <- scale(x)
  return(out)}
```
```{r,results="hide"}
centreReduit(airquality)
```

